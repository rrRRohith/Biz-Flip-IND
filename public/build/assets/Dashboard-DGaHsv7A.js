import{r as c,j as e,Y as R}from"./app-CiWi2AIf.js";import{A as D}from"./AdminAuthenticated-B5_31Yx-.js";import{S as _}from"./slick-theme-wSn4gbBK.js";import{M as y}from"./Modal-SesOflkV.js";import{_ as W}from"./react-apexcharts.min-BnyuOXlH.js";import{P as m}from"./index-BaHD1Pbt.js";import"./Dropdown-D2JN2VOY.js";import"./AdminHeader-DlKU1jnj.js";import"./PermissionAllow-DKfeZpNb.js";import"./Fade-BMfNDRrI.js";import"./objectWithoutPropertiesLoose-DXrfETLX.js";import"./inheritsLoose-1HkgTRWY.js";import"./setPrototypeOf-DgZC2w_0.js";import"./BootstrapModalManager-CIClHLmI.js";import"./Anchor-GOHgA5bq.js";import"./extends-CCbyfPlC.js";import"./index-cWeClDFL.js";import"./ToastNotification-A25VTCce.js";function A({adsListing:t=[],slidesToShow:s=4,dots:r=!1,arrow:a=!1}){const i={dots:r,infinite:!0,speed:500,slidesToShow:s,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,arrows:a},[l,n]=c.useState(!1),[o,p]=c.useState(""),[f,u]=c.useState(""),g=h=>{u(route("ads.show",h.slug)+"?embed=true"),p(h.title),n(!0)},b=()=>n(!1);return e.jsxs(e.Fragment,{children:[t.length?e.jsx(_,{...i,children:t.map((h,x)=>e.jsx("div",{className:"item",onClick:j=>g(h),children:e.jsxs("div",{className:"pe-20",children:[e.jsx("img",{role:"button",src:window.getImageAsset(h.image),className:"img-fluid rounded15 mb-15",alt:"",onError:j=>{j.target.onerror=null,j.target.src="/assets/admin/images/noimage.webp"}}),e.jsx("h6",{className:"text-center",children:h.title})]})},x))}):e.jsx("div",{children:"No images available"}),e.jsxs(y,{size:"lg",show:l,onHide:b,centered:!0,children:[e.jsx(y.Header,{closeButton:!0,children:e.jsx(y.Title,{children:o})}),e.jsx(y.Body,{className:"p-0",children:e.jsx("iframe",{className:"rounded-3 listframe",src:f,frameborder:"0"})})]})]})}function C({title:t="",category:s=[],data:r=[]}){const a=typeof s=="string"?JSON.parse(s):s,i=typeof r=="string"?JSON.parse(r):r,l={chart:{height:350,type:"area",zoom:{enabled:!1}},colors:["#4c95dd"],dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:a},tooltip:{y:{formatter:function(o){return o}}}},n=[{name:t,data:i}];return e.jsx("div",{id:"chart",children:e.jsx(W,{options:l,series:n,type:"area",height:220})})}C.propTypes={title:m.string,category:m.oneOfType([m.string,m.array]),data:m.oneOfType([m.string,m.array])};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var w=function(t,s){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},w(t,s)};function L(t,s){w(t,s);function r(){this.constructor=t}t.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}var P=function(){return P=Object.assign||function(s){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l])}return s},P.apply(this,arguments)};function V(t,s){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&s.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)s.indexOf(a[i])<0&&(r[a[i]]=t[a[i]]);return r}var B=100,I=100,E=50,O=50,S=50;function T(t){var s=t.className,r=t.counterClockwise,a=t.dashRatio,i=t.pathRadius,l=t.strokeWidth,n=t.style;return c.createElement("path",{className:s,style:Object.assign({},n,z({pathRadius:i,dashRatio:a,counterClockwise:r})),d:H({pathRadius:i,counterClockwise:r}),strokeWidth:l,fillOpacity:0})}function H(t){var s=t.pathRadius,r=t.counterClockwise,a=s,i=r?1:0;return`
      M `+O+","+S+`
      m 0,-`+a+`
      a `+a+","+a+" "+i+" 1 1 0,"+2*a+`
      a `+a+","+a+" "+i+" 1 1 0,-"+2*a+`
    `}function z(t){var s=t.counterClockwise,r=t.dashRatio,a=t.pathRadius,i=Math.PI*2*a,l=(1-r)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(s?-l:l)+"px"}}var F=function(t){L(s,t);function s(){return t!==null&&t.apply(this,arguments)||this}return s.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},s.prototype.getPathRadius=function(){return E-this.props.strokeWidth/2-this.getBackgroundPadding()},s.prototype.getPathRatio=function(){var r=this.props,a=r.value,i=r.minValue,l=r.maxValue,n=Math.min(Math.max(a,i),l);return(n-i)/(l-i)},s.prototype.render=function(){var r=this.props,a=r.circleRatio,i=r.className,l=r.classes,n=r.counterClockwise,o=r.styles,p=r.strokeWidth,f=r.text,u=this.getPathRadius(),g=this.getPathRatio();return c.createElement("svg",{className:l.root+" "+i,style:o.root,viewBox:"0 0 "+B+" "+I,"data-test-id":"CircularProgressbar"},this.props.background?c.createElement("circle",{className:l.background,style:o.background,cx:O,cy:S,r:E}):null,c.createElement(T,{className:l.trail,counterClockwise:n,dashRatio:a,pathRadius:u,strokeWidth:p,style:o.trail}),c.createElement(T,{className:l.path,counterClockwise:n,dashRatio:g*a,pathRadius:u,strokeWidth:p,style:o.path}),f?c.createElement("text",{className:l.text,style:o.text,x:O,y:S},f):null)},s.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},s}(c.Component);function M(t){t.children;var s=V(t,["children"]);return c.createElement("div",{"data-test-id":"CircularProgressbarWithChildren"},c.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},c.createElement(F,P({},s)),t.children?c.createElement("div",{"data-test-id":"CircularProgressbarWithChildren__children",style:{position:"absolute",width:"100%",height:"100%",marginTop:"-100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},t.children):null))}function X(t){var s=t.rotation,r=t.strokeLinecap,a=t.textColor,i=t.textSize,l=t.pathColor,n=t.pathTransition,o=t.pathTransitionDuration,p=t.trailColor,f=t.backgroundColor,u=s==null?void 0:"rotate("+s+"turn)",g=s==null?void 0:"center center";return{root:{},path:N({stroke:l,strokeLinecap:r,transform:u,transformOrigin:g,transition:n,transitionDuration:o==null?void 0:o+"s"}),trail:N({stroke:p,strokeLinecap:r,transform:u,transformOrigin:g}),text:N({fill:a,fontSize:i}),background:N({fill:f})}}function N(t){return Object.keys(t).forEach(function(s){t[s]==null&&delete t[s]}),t}function v({value:t=null,icon:s=null,color:r="#3e98c7"}){return e.jsx("div",{style:{width:80,height:80,textAlign:"center"},children:e.jsxs(M,{value:t,styles:X({pathColor:r,trailColor:"#d6d6d6"}),children:[e.jsx("i",{className:`bi ${s} fs-3 mb-2 fw-bold`}),e.jsx("div",{style:{fontSize:12,marginTop:-5}})]})})}v.propTypes={value:m.number,icon:m.string,color:m.string};function ce({auth:t,data:s,adsListing:r,leadLast7Days:a,sellerLeads:i,adCompletedBySeller:l}){const n=JSON.parse(a.leadCategoryArray),o=JSON.parse(a.leadDataArray),p=i.map(d=>d.seller),f=i.map(d=>d.lead_count),u=l.map(d=>d.seller),g=l.map(d=>d.lead_count),b=o.reduce((d,k)=>d+k,0),h=o.slice(0,7).reduce((d,k)=>d+k,0);var x=0;h>0?x=(b-h)/h*100:x=b*100;let j="";return x>0?j="text-success":x<0&&(j="text-danger"),e.jsxs(D,{user:t.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Dashboard"}),children:[e.jsx(R,{title:"Admin Dashboard"}),e.jsx("div",{className:"content-wrapper me-4",children:e.jsx("div",{className:"container-full",children:e.jsx("section",{className:"content",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-xxxl-12 col-12",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3 col-12",children:e.jsx("div",{className:"box box-body",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{className:"text-start",children:[e.jsx("h5",{children:"Total Sellers"}),e.jsx("h3",{className:"mb-0 fw-500",children:s.sellers})]}),e.jsx("div",{children:e.jsx(v,{value:s.sellers,icon:"bi-person-check",color:"#0F5257"})})]})})}),e.jsx("div",{className:"col-md-3 col-12",children:e.jsx("div",{className:"box box-body",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{className:"text-start",children:[e.jsx("h5",{children:"Total Ads"}),e.jsx("h3",{className:"mb-0 fw-500",children:s.ads})]}),e.jsx("div",{children:e.jsx(v,{value:s.ads,icon:"bi-badge-ad",color:"#6499E9"})})]})})}),e.jsx("div",{className:"col-md-3 col-12",children:e.jsx("div",{className:"box box-body",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{className:"text-start",children:[e.jsx("h5",{children:"Total Leads"}),e.jsx("h3",{className:"mb-0 fw-500",children:s.leads})]}),e.jsx("div",{children:e.jsx(v,{value:s.leads,icon:"bi-at",color:"#3ABEF9"})})]})})}),e.jsx("div",{className:"col-md-3 col-12",children:e.jsx("div",{className:"box box-body",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{className:"text-start",children:[e.jsx("h5",{children:"Completed Ads"}),e.jsx("h3",{className:"mb-0 fw-500",children:s.ads_completed})]}),e.jsx("div",{children:e.jsx(v,{value:s.ads_completed,icon:"bi-check2-circle",color:"#059212"})})]})})})]})}),e.jsx("div",{className:"col-xxxl-12 col-12",children:e.jsx("div",{className:"box",children:e.jsxs("div",{className:"box-body",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"box-title mb-0",children:"Daily Leads"}),e.jsx("p",{className:"mb-0 text-mute",children:"Last 7 Days Leads"})]}),e.jsxs("div",{className:"text-end",children:[e.jsx("h3",{className:`box-title mb-0 fw-500 ${j}`,children:b}),e.jsxs("p",{className:"mb-0",children:[e.jsxs("span",{className:j,children:[x.toFixed(1)>0?x.toFixed(1):"0","%"]}),x>0?" increase":" decrease"," than last week"]})]})]}),e.jsx(C,{category:n,title:"Leads",data:o,className:"mt-20"})]})})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"box",children:[e.jsx("div",{className:"box-header",children:e.jsx("h4",{className:"box-title",children:"Ads Listing"})}),e.jsx("div",{className:"box-body",children:e.jsx(A,{adsListing:r,slidesToShow:4})})]})}),e.jsx("div",{className:"col-xl-6 col-lg-6 col-12",children:e.jsx("div",{className:"box",children:e.jsxs("div",{className:"box-body",children:[e.jsx("h4",{className:"box-title",children:" Lead by Sellers"}),e.jsx(C,{category:p,title:"Lead",data:f,className:"mt-20"})]})})}),e.jsx("div",{className:"col-xl-6 col-lg-6 col-12",children:e.jsx("div",{className:"box",children:e.jsxs("div",{className:"box-body",children:[e.jsx("h4",{className:"box-title",children:"Ad Completed by Sellers"}),e.jsx(C,{category:u,title:"Lead",data:g,className:"mt-20"})]})})})]})})})})]})}export{ce as default};
