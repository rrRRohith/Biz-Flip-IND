import{W as _,j as e,Y as w,a as P}from"./app-Mi5-AqKU.js";import"./Dropdown-Dk7jjItk.js";import"./index-Da_kr_1K.js";import"./PermissionAllow-B8xuR5O8.js";import V from"./Wrapper-DXfrI9c2.js";import{S}from"./react-select.esm-DsfuIGnf.js";import{I as c}from"./InputError-Dv4MT5Ay.js";import"./Header-BvcB4kk6.js";import"./ProfileDropdown-CIdIuGsk.js";import"./Dropdown-BdYkEp6F.js";import"./useMergedRefs-B9NgnWcR.js";import"./SSRProvider-DMDV9ab5.js";import"./useWindow-CcF1-924.js";import"./NavbarContext-C0XN_G8R.js";import"./extends-CF3RwP-h.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";import"./ToastNotification-Bnj11tKi.js";import"./ReactToastify-C6-0c1dT.js";import"./TopMenu-B8kyAe00.js";import"./Footer-DH0wfzfm.js";import"./Select-49a62830.esm-Cw8IuBId.js";import"./objectSpread2-BGia1Xzf.js";import"./defineProperty-CbP60PBK.js";import"./extends-D4OKFbg0.js";import"./setPrototypeOf-DgZC2w_0.js";import"./emotion-react.browser.esm-C86POnWe.js";import"./hoist-non-react-statics.cjs-CTCe2Omd.js";function le({auth:m,plan:r,error:x,success:h,province_options:p,address:o}){const j=a=>{let s=a.replace(/\D/g,"");return s.length>16&&(s=s.slice(0,16)),s},u=a=>a.replace(/[^A-Za-z\s]/g,""),v=a=>{let s=a.replace(/\D/g,""),i=s.slice(0,2);parseInt(i)>12&&(i="12");let C=s.slice(2,4);return s.length>2&&(s=i+"/"+C),s},N=a=>{const s=a.target.value,i=j(s);d("card_number",i)},b=a=>{const s=a.target.value,i=u(s);d("card_name",i)},g=a=>{const s=a.target.value,i=v(s);d("card_date",i)},{data:l,setData:d,post:f,errors:t,reset:D}=_({firstname:o.firstname,lastname:o.lastname,email:o.email,phone:o.phone,address:o.address,city:o.city,province:o.province,postalcode:o.postalcode,card_name:"",card_date:"",card_cvv:"",card_number:"",_method:"PUT"}),y=async a=>{a.preventDefault(),await f(route("account.plans.update",r.id),{preserveScroll:!0})},n=(a,s)=>{d(a,s)};return e.jsxs(e.Fragment,{children:[e.jsx(w,{title:r.name}),e.jsx(V,{user:m.user,success:h,error:x,children:e.jsx("main",{className:"py-6",children:e.jsx("div",{className:"container-fluid px-3",children:e.jsx("div",{className:"vstack gap-6 m-auto",children:e.jsxs("div",{className:"container max-w-screen-lg vstack gap-6 m-auto",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"text-xl font-bold",children:"Purchase new plan"}),e.jsx("div",{className:"ms-auto",children:e.jsxs(P,{href:route("account.plans.index"),className:"btn btn-neutral",children:[e.jsx("i",{className:"bi bi-arrow-left"})," Go back"]})})]}),e.jsx("form",{onSubmit:y,children:e.jsxs("div",{className:"row justify-content-center",children:[e.jsxs("div",{className:"col-sm-7 col-12",children:[e.jsx("div",{className:"mb-5",children:e.jsx("h4",{children:"Billing information"})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6 col-12",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"First name"}),e.jsx("input",{value:l.firstname,onChange:a=>n("firstname",a.target.value),type:"text",placeholder:"First name",className:"form-control"}),e.jsx(c,{message:t.firstname})]})}),e.jsx("div",{className:"col-sm-6 col-12",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Last name"}),e.jsx("input",{value:l.lastname,onChange:a=>n("lastname",a.target.value),type:"text",placeholder:"Last name",className:"form-control"}),e.jsx(c,{message:t.lastname})]})}),e.jsx("div",{className:"col-sm-6 col-12",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Phone"}),e.jsx("input",{value:l.phone,onChange:a=>n("phone",a.target.value),type:"text",placeholder:"Phone",className:"form-control"}),e.jsx(c,{message:t.phone})]})}),e.jsx("div",{className:"col-sm-6 col-12",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{value:l.email,onChange:a=>n("email",a.target.value),type:"email",placeholder:"Email",className:"form-control"}),e.jsx(c,{message:t.email})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Address"}),e.jsx("input",{value:l.address,onChange:a=>n("address",a.target.value),placeholder:"Address",className:"form-control"}),e.jsx(c,{message:t.address})]})}),e.jsx("div",{className:"col-sm-6 col-12",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"City"}),e.jsx("input",{value:l.city,onChange:a=>n("city",a.target.value),placeholder:"City",className:"form-control"}),e.jsx(c,{message:t.city})]})}),e.jsx("div",{className:"col-md-6 col-12",children:e.jsxs("div",{children:[e.jsx("label",{children:"Province"}),e.jsx(S,{defaultValue:{value:l.province,label:l.province?l.province:"Select..."},onChange:a=>{n("province",a.value)},options:p}),e.jsx(c,{message:t.province})]})}),e.jsx("div",{className:"col-sm-6 col-12",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Postalcode"}),e.jsx("input",{value:l.postalcode,onChange:a=>n("postalcode",a.target.value),placeholder:"Postalcode",className:"form-control"}),e.jsx(c,{message:t.postalcode})]})})]}),e.jsx("div",{className:"text-muted text-gray-500",children:"Note: Buying a new plan will invalidate all your existing plans and any unused ad listing benefits. Please make sure to utilize any remaining listings or benefits from your current plan before you purchase a new one."})]}),e.jsxs("div",{className:"col-sm-5 col-12",children:[e.jsx("div",{className:"card rounded-3 py-4 mb-5",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsx("h5",{className:"card-title font-bolder",children:r.name}),e.jsx("div",{className:"text-primary mb-3",children:e.jsxs("h4",{className:"card-title text-primary",children:["$",r.price," ",e.jsxs("small",{children:["/ ",r.duration," month"]})," "]})}),e.jsx("p",{className:"card-text mb-3",children:r.description})]})}),e.jsx("div",{className:"mb-5",children:e.jsxs("div",{className:"text-end",children:[e.jsxs("div",{children:["Sub total. ",e.jsxs("span",{className:"font-bolder",children:["$",r.price]})]}),e.jsxs("div",{children:["Tax. ",e.jsxs("span",{className:"font-bolder",children:["$",r.tax_amount]})]}),e.jsxs("div",{children:["Grand total. ",e.jsxs("span",{className:"font-bolder",children:["$",r.total_amount]})]})]})}),r.default!="1"&&e.jsxs("div",{className:"mb-5",children:[e.jsx("div",{className:"mb-3",children:e.jsx("img",{className:"w-full",src:"https://res.cloudinary.com/rr6/image/upload/v1725361095/cards_jokpdn.png",alt:""})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Name on card"}),e.jsx("input",{value:l.card_name,onChange:b,type:"text",placeholder:"Name on card",className:"form-control"}),e.jsx(c,{message:t.card_name})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Card number"}),e.jsx("input",{value:l.card_number,onChange:N,type:"text",placeholder:"Card number",className:"form-control"}),e.jsx(c,{message:t.card_number})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6 ",children:e.jsxs("div",{children:[e.jsx("label",{children:"Exp date"}),e.jsx("input",{value:l.card_date,onChange:g,type:"text",placeholder:"Exp date",className:"form-control"}),e.jsx(c,{message:t.card_date})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{children:[e.jsx("label",{children:"CVV"}),e.jsx("input",{value:l.card_cvv,maxLength:4,onChange:a=>n("card_cvv",a.target.value),type:"text",placeholder:"CVV",className:"form-control"}),e.jsx(c,{message:t.card_cvv})]})})]})]}),r.default=="1"?e.jsx(e.Fragment,{children:e.jsx("button",{type:"submit",className:"btn d-block btn-primary w-full",children:"Subscribe for free"})}):e.jsx(e.Fragment,{children:e.jsxs("button",{type:"submit",className:"btn d-block btn-primary w-full",children:["Pay ",e.jsxs("span",{className:"font-bolder",children:["$",r.total_amount]})," "]})})]}),e.jsx("div",{className:"col-sm-6 col-12"})]})})]})})})})})]})}export{le as default};
