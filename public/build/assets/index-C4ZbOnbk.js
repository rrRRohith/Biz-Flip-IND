import{r as G,g as K}from"./app-SffcvnXz.js";var P={exports:{}},u={};Object.defineProperty(u,"__esModule",{value:!0});var l,n=G,c=(l=n)&&typeof l=="object"&&"default"in l?l.default:l;function f(){return(f=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var q=[],D=!1,A=function(){if(D)for(var t;t=q.shift();)t()};window.__unlayer_lastEditorId=window.__unlayer_lastEditorId||0;var C=c.forwardRef(function(t,a){var r,i,p,v,y,m,E,j,_,h=t.onLoad,g=t.onReady,b=t.scriptUrl,x=t.minHeight,F=x===void 0?500:x,I=t.style,J=I===void 0?{}:I,w=n.useState(null),e=w[0],N=w[1],O=n.useState(!1),M=O[0],L=O[1],S=n.useMemo(function(){return t.editorId||"editor-"+ ++window.__unlayer_lastEditorId},[t.editorId]),H=f({},t.options||{},{appearance:(r=t.appearance)!=null?r:(i=t.options)==null?void 0:i.appearance,displayMode:(t==null?void 0:t.displayMode)||((p=t.options)==null?void 0:p.displayMode)||"email",locale:(v=t.locale)!=null?v:(y=t.options)==null?void 0:y.locale,projectId:(m=t.projectId)!=null?m:(E=t.options)==null?void 0:E.projectId,tools:(j=t.tools)!=null?j:(_=t.options)==null?void 0:_.tools,id:S,source:{name:"react-email-editor",version:"1.7.10"}});n.useImperativeHandle(a,function(){return{editor:e}},[e]),n.useEffect(function(){return function(){e==null||e.destroy()}},[]),n.useEffect(function(){L(!1),function(o,d){if(d===void 0&&(d="https://editor.unlayer.com/embed.js?2"),q.push(function(){return L(!0)}),function(U){var z=document.querySelectorAll("script"),k=!1;return z.forEach(function(B){B.src.includes(U)&&(k=!0)}),k}(d))A();else{var s=document.createElement("script");s.setAttribute("src",d),s.onload=function(){D=!0,A()},document.head.appendChild(s)}}(0,b)},[b]),n.useEffect(function(){M&&(e==null||e.destroy(),N(unlayer.createEditor(H)))},[JSON.stringify(H),M]);var R=Object.keys(t).filter(function(o){return/^on/.test(o)});return n.useEffect(function(){e&&(h==null||h(e),R.forEach(function(o){/^on/.test(o)&&o!=="onLoad"&&o!=="onReady"&&typeof t[o]=="function"&&e.addEventListener(o,t[o])}),g&&e.addEventListener("editor:ready",function(){g(e)}))},[e,Object.keys(R).join(",")]),c.createElement("div",{style:{flex:1,display:"flex",minHeight:F}},c.createElement("div",{id:S,style:f({},J,{flex:1})}))});u.EmailEditor=C,u.default=C;P.exports=u;var Q=P.exports;const V=K(Q);export{V as E};
