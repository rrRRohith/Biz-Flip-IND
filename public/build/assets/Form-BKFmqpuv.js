<<<<<<< HEAD:public/build/assets/Form-D7rz0r4k.js
import{r as N,W as f,j as e,Y as g,a as o}from"./app-xlIuIJsy.js";import"./Dropdown-Dol-GmEj.js";import"./index-BoPl_Y3N.js";import"./PermissionAllow-D1RHxqIQ.js";import k from"./Wrapper-BBAZhQT6.js";import{I as m}from"./InputError-BIxLSMlx.js";import"./Header-DQItnz8a.js";import"./ProfileDropdown-Irduj0MZ.js";import"./Dropdown-D_xQ10D-.js";import"./useMergedRefs-Dgr7rqb-.js";import"./SSRProvider-CY2U98zS.js";import"./useWindow-CA08abZi.js";import"./NavbarContext-B8z2EYbj.js";import"./extends-CF3RwP-h.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";import"./ToastNotification-Bykq7ejt.js";import"./ReactToastify-BEIb5fZt.js";import"./TopMenu-CfHYWUAJ.js";function z({role:a,permissions:i,auth:d,success:x,error:h}){const n=a?Object.keys(a.permissions).map(s=>parseInt(s)):[];console.log(n),N.useState({});const p=s=>{let r;t.permissions.includes(s)?r=t.permissions.filter(v=>v!==s):r=[...t.permissions,s],l("permissions",r)},{data:t,setData:l,post:j,errors:c,reset:C}=f({permissions:n||[],name:a?a.name:null,_method:a?"PUT":"POST"}),u=(s,r)=>{l(s,r)},b=async s=>{s.preventDefault(),await j(route(a?"account.roles.update":"account.roles.store",{role:a?a.id:null}),{preserveScroll:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(g,{title:a?"Edit role":"Create new role"}),e.jsx(k,{user:d.user,success:x,error:h,children:e.jsx("main",{className:"py-6",children:e.jsx("div",{className:"container px-3",children:e.jsxs("div",{className:"max-w-screen-md vstack gap-6 m-auto",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"text-xl font-bold",children:a?"Edit role":"Create new role"}),e.jsx("div",{className:"ms-auto",children:e.jsxs(o,{href:route("account.roles.index"),className:"btn btn-neutral",children:[e.jsx("i",{className:"bi bi-arrow-left"})," Go back"]})})]}),e.jsx("div",{children:e.jsx("form",{onSubmit:b,children:e.jsxs("div",{className:"row g-5",children:[e.jsx("div",{className:"mb-0",children:e.jsx("h4",{children:"Role name"})}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{value:t.name,onChange:s=>{u("name",s.target.value)},placeholder:"Enter name",className:"form-control"}),e.jsx(m,{message:c.name})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("div",{className:"mb-5",children:e.jsx("h4",{children:"Permissions"})}),Object.keys(i).map(s=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-md text-primary",children:s}),e.jsx("div",{children:i[s].map(r=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"form-check form-check-lg",children:[e.jsx("input",{role:"button",className:"form-check-input shadow-none border border-gray border-1 cursor-pointer",type:"checkbox",id:`permission_${r.id}`,checked:t.permissions.includes(r.id),onChange:()=>p(r.id)}),e.jsx("label",{role:"button",className:"mt-1",htmlFor:`permission_${r.id}`,children:r.name})]},r.id)}))})]},s),e.jsx("hr",{})]})),e.jsx(m,{message:c.permissions})]}),e.jsxs("div",{className:"col-12 text-end",children:[e.jsx(o,{href:route("account.roles.index"),className:"btn btn-neutral me-2",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})})})]})})})})]})}export{z as default};
=======
import{r as N,W as f,j as e,Y as g,a as o}from"./app-itwJjUX3.js";import"./Dropdown-gO2VTgWX.js";import"./index-l5WsDjp0.js";import"./PermissionAllow-D0TY0oyo.js";import k from"./Wrapper-B9PnvgjQ.js";import{I as m}from"./InputError-BAp5vySU.js";import"./Header-C2ukkRW7.js";import"./ProfileDropdown-CQ5bC5EY.js";import"./Dropdown-DxKzW6ad.js";import"./useMergedRefs-avGIJ7As.js";import"./SSRProvider-BTMhcs7e.js";import"./useWindow-YycjxZAG.js";import"./NavbarContext-D8L38UUl.js";import"./extends-CF3RwP-h.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";import"./ToastNotification-BeZVjDUA.js";import"./ReactToastify-LOs0-z25.js";import"./TopMenu-BbM6zan9.js";function z({role:a,permissions:i,auth:d,success:x,error:h}){const n=a?Object.keys(a.permissions).map(s=>parseInt(s)):[];console.log(n),N.useState({});const p=s=>{let r;t.permissions.includes(s)?r=t.permissions.filter(v=>v!==s):r=[...t.permissions,s],l("permissions",r)},{data:t,setData:l,post:j,errors:c,reset:C}=f({permissions:n||[],name:a?a.name:null,_method:a?"PUT":"POST"}),u=(s,r)=>{l(s,r)},b=async s=>{s.preventDefault(),await j(route(a?"account.roles.update":"account.roles.store",{role:a?a.id:null}),{preserveScroll:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(g,{title:a?"Edit role":"Create new role"}),e.jsx(k,{user:d.user,success:x,error:h,children:e.jsx("main",{className:"py-6",children:e.jsx("div",{className:"container px-3",children:e.jsxs("div",{className:"max-w-screen-md vstack gap-6 m-auto",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"text-xl font-bold",children:a?"Edit role":"Create new role"}),e.jsx("div",{className:"ms-auto",children:e.jsxs(o,{href:route("account.roles.index"),className:"btn btn-neutral",children:[e.jsx("i",{className:"bi bi-arrow-left"})," Go back"]})})]}),e.jsx("div",{children:e.jsx("form",{onSubmit:b,children:e.jsxs("div",{className:"row g-5",children:[e.jsx("div",{className:"mb-0",children:e.jsx("h4",{children:"Role name"})}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{value:t.name,onChange:s=>{u("name",s.target.value)},placeholder:"Enter name",className:"form-control"}),e.jsx(m,{message:c.name})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsx("div",{className:"mb-5",children:e.jsx("h4",{children:"Permissions"})}),Object.keys(i).map(s=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-md text-primary",children:s}),e.jsx("div",{children:i[s].map(r=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"form-check form-check-lg",children:[e.jsx("input",{role:"button",className:"form-check-input shadow-none border border-gray border-1 cursor-pointer",type:"checkbox",id:`permission_${r.id}`,checked:t.permissions.includes(r.id),onChange:()=>p(r.id)}),e.jsx("label",{role:"button",className:"mt-1",htmlFor:`permission_${r.id}`,children:r.name})]},r.id)}))})]},s),e.jsx("hr",{})]})),e.jsx(m,{message:c.permissions})]}),e.jsxs("div",{className:"col-12 text-end",children:[e.jsx(o,{href:route("account.roles.index"),className:"btn btn-neutral me-2",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})})})]})})})})]})}export{z as default};
>>>>>>> d8d0e48fb030c3c19412ab73f21a9382ef01b7cd:public/build/assets/Form-BKFmqpuv.js
