import{r as K,c as W}from"./app-BOqhPDGM.js";function Y(s,r,o,a){function u(c){return c instanceof o?c:new o(function(f){f(c)})}return new(o||(o=Promise))(function(c,f){function g(m){try{L(a.next(m))}catch(d){f(d)}}function p(m){try{L(a.throw(m))}catch(d){f(d)}}function L(m){m.done?c(m.value):u(m.value).then(g,p)}L((a=a.apply(s,[])).next())})}function H(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Q=function s(r,o){if(r===o)return!0;if(r&&o&&typeof r=="object"&&typeof o=="object"){if(r.constructor!==o.constructor)return!1;var a,u,c;if(Array.isArray(r)){if(a=r.length,a!=o.length)return!1;for(u=a;u--!==0;)if(!s(r[u],o[u]))return!1;return!0}if(r.constructor===RegExp)return r.source===o.source&&r.flags===o.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===o.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===o.toString();if(c=Object.keys(r),a=c.length,a!==Object.keys(o).length)return!1;for(u=a;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;for(u=a;u--!==0;){var f=c[u];if(!s(r[f],o[f]))return!1}return!0}return r!==r&&o!==o},X=H(Q);const B="__googleMapsScriptId";var D;(function(s){s[s.INITIALIZED=0]="INITIALIZED",s[s.LOADING=1]="LOADING",s[s.SUCCESS=2]="SUCCESS",s[s.FAILURE=3]="FAILURE"})(D||(D={}));class N{constructor({apiKey:r,authReferrerPolicy:o,channel:a,client:u,id:c=B,language:f,libraries:g=[],mapIds:p,nonce:L,region:m,retries:d=3,url:E="https://maps.googleapis.com/maps/api/js",version:w}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=r,this.authReferrerPolicy=o,this.channel=a,this.client=u,this.id=c||B,this.language=f,this.libraries=g,this.mapIds=p,this.nonce=L,this.region=m,this.retries=d,this.url=E,this.version=w,N.instance){if(!X(this.options,N.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(N.instance.options)}`);return N.instance}N.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?D.FAILURE:this.done?D.SUCCESS:this.loading?D.LOADING:D.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let r=this.url;return r+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(r+=`&key=${this.apiKey}`),this.channel&&(r+=`&channel=${this.channel}`),this.client&&(r+=`&client=${this.client}`),this.libraries.length>0&&(r+=`&libraries=${this.libraries.join(",")}`),this.language&&(r+=`&language=${this.language}`),this.region&&(r+=`&region=${this.region}`),this.version&&(r+=`&v=${this.version}`),this.mapIds&&(r+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(r+=`&auth_referrer_policy=${this.authReferrerPolicy}`),r}deleteScript(){const r=document.getElementById(this.id);r&&r.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((r,o)=>{this.loadCallback(a=>{a?o(a.error):r(window.google)})})}importLibrary(r){return this.execute(),google.maps.importLibrary(r)}loadCallback(r){this.callbacks.push(r),this.execute()}setScript(){var r,o;if(document.getElementById(this.id)){this.callback();return}const a={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(a).forEach(c=>!a[c]&&delete a[c]),!((o=(r=window==null?void 0:window.google)===null||r===void 0?void 0:r.maps)===null||o===void 0)&&o.importLibrary||(c=>{let f,g,p,L="The Google Maps JavaScript API",m="google",d="importLibrary",E="__ib__",w=document,I=window;I=I[m]||(I[m]={});const P=I.maps||(I.maps={}),A=new Set,j=new URLSearchParams,k=()=>f||(f=new Promise((b,v)=>Y(this,void 0,void 0,function*(){var C;yield g=w.createElement("script"),g.id=this.id,j.set("libraries",[...A]+"");for(p in c)j.set(p.replace(/[A-Z]/g,$=>"_"+$[0].toLowerCase()),c[p]);j.set("callback",m+".maps."+E),g.src=this.url+"?"+j,P[E]=b,g.onerror=()=>f=v(Error(L+" could not load.")),g.nonce=this.nonce||((C=w.querySelector("script[nonce]"))===null||C===void 0?void 0:C.nonce)||"",w.head.append(g)})));P[d]?console.warn(L+" only loads once. Ignoring:",c):P[d]=(b,...v)=>A.add(b)&&k().then(()=>P[d](b,...v))})(a);const u=this.libraries.map(c=>this.importLibrary(c));u.length||u.push(this.importLibrary("core")),Promise.all(u).then(()=>this.callback(),c=>{const f=new ErrorEvent("error",{error:c});this.loadErrorCallback(f)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(r){if(this.errors.push(r),this.errors.length<=this.retries){const o=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${o} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},o)}else this.onerrorEvent=r,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(r=>{r(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}function U(){U=function(){return s};var s={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},u=typeof Symbol=="function"?Symbol:{},c=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",g=u.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch{p=function(t,n,l){return t[n]=l}}function L(e,t,n,l){var i=t&&t.prototype instanceof E?t:E,h=Object.create(i.prototype),y=new T(l||[]);return a(h,"_invoke",{value:C(e,n,y)}),h}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(l){return{type:"throw",arg:l}}}s.wrap=L;var d={};function E(){}function w(){}function I(){}var P={};p(P,c,function(){return this});var A=Object.getPrototypeOf,j=A&&A(A(q([])));j&&j!==r&&o.call(j,c)&&(P=j);var k=I.prototype=E.prototype=Object.create(P);function b(e){["next","throw","return"].forEach(function(t){p(e,t,function(n){return this._invoke(t,n)})})}function v(e,t){function n(i,h,y,O){var _=m(e[i],e,h);if(_.type!=="throw"){var R=_.arg,Z=R.value;return Z&&typeof Z=="object"&&o.call(Z,"__await")?t.resolve(Z.__await).then(function(G){n("next",G,y,O)},function(G){n("throw",G,y,O)}):t.resolve(Z).then(function(G){R.value=G,y(R)},function(G){return n("throw",G,y,O)})}O(_.arg)}var l;a(this,"_invoke",{value:function(i,h){function y(){return new t(function(O,_){n(i,h,O,_)})}return l=l?l.then(y,y):y()}})}function C(e,t,n){var l="suspendedStart";return function(i,h){if(l==="executing")throw new Error("Generator is already running");if(l==="completed"){if(i==="throw")throw h;return S()}for(n.method=i,n.arg=h;;){var y=n.delegate;if(y){var O=$(y,n);if(O){if(O===d)continue;return O}}if(n.method==="next")n.sent=n._sent=n.arg;else if(n.method==="throw"){if(l==="suspendedStart")throw l="completed",n.arg;n.dispatchException(n.arg)}else n.method==="return"&&n.abrupt("return",n.arg);l="executing";var _=m(e,t,n);if(_.type==="normal"){if(l=n.done?"completed":"suspendedYield",_.arg===d)continue;return{value:_.arg,done:n.done}}_.type==="throw"&&(l="completed",n.method="throw",n.arg=_.arg)}}}function $(e,t){var n=t.method,l=e.iterator[n];if(l===void 0)return t.delegate=null,n==="throw"&&e.iterator.return&&(t.method="return",t.arg=void 0,$(e,t),t.method==="throw")||n!=="return"&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=m(l,e.iterator,t.arg);if(i.type==="throw")return t.method="throw",t.arg=i.arg,t.delegate=null,d;var h=i.arg;return h?h.done?(t[e.resultName]=h.value,t.next=e.nextLoc,t.method!=="return"&&(t.method="next",t.arg=void 0),t.delegate=null,d):h:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function q(e){if(e){var t=e[c];if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length)){var n=-1,l=function i(){for(;++n<e.length;)if(o.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=void 0,i.done=!0,i};return l.next=l}}return{next:S}}function S(){return{value:void 0,done:!0}}return w.prototype=I,a(k,"constructor",{value:I,configurable:!0}),a(I,"constructor",{value:w,configurable:!0}),w.displayName=p(I,g,"GeneratorFunction"),s.isGeneratorFunction=function(e){var t=typeof e=="function"&&e.constructor;return!!t&&(t===w||(t.displayName||t.name)==="GeneratorFunction")},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,I):(e.__proto__=I,p(e,g,"GeneratorFunction")),e.prototype=Object.create(k),e},s.awrap=function(e){return{__await:e}},b(v.prototype),p(v.prototype,f,function(){return this}),s.AsyncIterator=v,s.async=function(e,t,n,l,i){i===void 0&&(i=Promise);var h=new v(L(e,t,n,l),i);return s.isGeneratorFunction(t)?h:h.next().then(function(y){return y.done?y.value:h.next()})},b(k),p(k,g,"Generator"),p(k,c,function(){return this}),p(k,"toString",function(){return"[object Generator]"}),s.keys=function(e){var t=Object(e),n=[];for(var l in t)n.push(l);return n.reverse(),function i(){for(;n.length;){var h=n.pop();if(h in t)return i.value=h,i.done=!1,i}return i.done=!0,i}},s.values=q,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)t.charAt(0)==="t"&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(_,R){return h.type="throw",h.arg=e,t.next=_,R&&(t.method="next",t.arg=void 0),!!R}for(var l=this.tryEntries.length-1;l>=0;--l){var i=this.tryEntries[l],h=i.completion;if(i.tryLoc==="root")return n("end");if(i.tryLoc<=this.prev){var y=o.call(i,"catchLoc"),O=o.call(i,"finallyLoc");if(y&&O){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(y){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!O)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var l=this.tryEntries[n];if(l.tryLoc<=this.prev&&o.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var i=l;break}}i&&(e==="break"||e==="continue")&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var h=i?i.completion:{};return h.type=e,h.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(h)},complete:function(e,t){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var l=n.completion;if(l.type==="throw"){var i=l.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:q(e),resultName:t,nextLoc:n},this.method==="next"&&(this.arg=void 0),d}},s}function J(s,r,o,a,u,c,f){try{var g=s[c](f),p=g.value}catch(L){o(L);return}g.done?r(p):Promise.resolve(p).then(a,u)}function V(s){return function(){var r=this,o=arguments;return new Promise(function(a,u){var c=s.apply(r,o);function f(p){J(c,a,u,f,g,"next",p)}function g(p){J(c,a,u,f,g,"throw",p)}f(void 0)})}}function z(){return z=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},z.apply(this,arguments)}var x=function(r){return r&&Math.abs(r.lat)<=90&&Math.abs(r.lng)<=180},et=function(r){var o=r.apiKey,a=r.defaultLocation,u=r.zoom,c=u===void 0?7:u,f=r.onChangeLocation,g=r.onChangeZoom,p=r.style,L=r.className,m=r.mapTypeId,d="google-map-view-"+Math.random().toString(36).substring(2,9),E=K.useRef(null),w=K.useRef(null),I=Object.assign({width:"100%",height:"600px"},p||{}),P=function(b){if(f)if(b.latLng){var v=b.latLng;f(v.lat(),v.lng())}else b.lat&&b.lng&&f(b.lat(),b.lng())},A=function(){g&&g(E.current.getZoom())},j=function(){var k=V(U().mark(function b(){var v,C,$,F,M,T;return U().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!(!window.google||!window.google.maps)){S.next=4;break}return v=new N({apiKey:o,version:"weekly"}),S.next=4,v.load();case 4:return C=x(a)?a:{lat:0,lng:0},S.next=7,google.maps.importLibrary("maps");case 7:if($=S.sent,F=$.Map,E.current=new F(document.getElementById(d),z({center:C,zoom:c,mapId:d},m&&{mapTypeId:m})),w.current){S.next=19;break}return S.next=13,google.maps.importLibrary("marker");case 13:M=S.sent,T=M.AdvancedMarkerElement,w.current=new T({title:"Selected location",position:C,map:E.current,gmpDraggable:!0}),google.maps.event.addListener(w.current,"dragend",P),S.next=20;break;case 19:w.current.position=C;case 20:E.current.addListener("click",function(e){var t=e.latLng;w.current.position=t,P(t)}),E.current.addListener("zoom_changed",A);case 22:case"end":return S.stop()}},b)}));return function(){return k.apply(this,arguments)}}();return K.useEffect(function(){w.current&&(E.current.setCenter(a),w.current.position=a)},[a]),K.useEffect(function(){E.current&&E.current.setZoom(c)},[c]),K.useEffect(function(){V(U().mark(function k(){return U().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,j();case 2:case"end":return v.stop()}},k)}))()},[]),W.createElement("div",{id:d,style:I,className:L})};export{et as P};
