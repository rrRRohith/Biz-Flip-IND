import{W as N,r as m,j as e,Y as y}from"./app-CBro_2oG.js";import"./Dropdown-DWIdYw-_.js";import"./index-Amzge2Tc.js";import"./PermissionAllow-DoZUeJqQ.js";import _ from"./Wrapper-CaoTi-Z2.js";import{I as i}from"./InputError-iB-p5lcN.js";import{u as w}from"./useMask-BNOzo3TN.js";import"./Header-2ttldsv-.js";import"./ProfileDropdown-DwSKCotS.js";import"./Dropdown-Vta_QQMG.js";import"./useMergedRefs-DMqeV2KF.js";import"./SSRProvider-BIY34xEH.js";import"./useWindow-Bz4c_BAR.js";import"./NavbarContext-DJY4Nmqv.js";import"./extends-CF3RwP-h.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";import"./ToastNotification-BwMQfCa_.js";import"./ReactToastify-C9zWzgOe.js";import"./TopMenu-UM_5p-hx.js";import"./Footer-D771JW3k.js";function M({user:s,queryParams:C=null,auth:d,success:p,error:h,province_options:P}){const x=w({mask:"(___) ___-____",replacement:{_:/\d/}}),j=a=>{if(!a)return"";const t=a.replace(/\D/g,"");return t.length<10?a:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6,10)}`},{data:r,setData:o,post:u,errors:n,reset:f}=N({picture:"",firstname:s.firstname,lastname:s.lastname,email:s.email,phone:j(s.phone),password:"",confirm_password:"",address:s?s.address:"",city:s?s.city:"",postalcode:s?s.postalcode:"",province:s?s.province:""}),[g,c]=m.useState();m.useEffect(()=>{s.picture&&c(s.picture_url)},[s.picture]);const v=a=>{const t=a.target.files[0];t&&(o("picture",t),c(URL.createObjectURL(t)))},l=(a,t)=>{o(a,t)},b=async a=>{a.preventDefault(),await u(route("account.profile.store"),{preserveScroll:!0,onSuccess:()=>{f("confirm_password","password")}})};return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"Profile"}),e.jsx(_,{success:p,error:h,user:d.user,children:e.jsx("main",{className:"py-6",children:e.jsx("div",{className:"container px-3",children:e.jsxs("div",{className:"max-w-screen-md vstack gap-6 m-auto",children:[e.jsx("div",{className:"text-xl font-bold",children:"Your profile settings"}),e.jsx("div",{children:"Update your profile information easily. Change your picture and contact details."}),e.jsx("div",{className:"card rounded-input",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("label",{role:"button",htmlFor:"avatar",href:"#",className:"avatar avatar-lg border-2 border-gray rounded-circle text-white",children:e.jsx("img",{onError:a=>{a.target.onerror=null,a.target.src="/assets/admin/images/noimage.webp"},alt:"...",src:g})}),e.jsxs("div",{className:"ms-4",children:[e.jsxs("span",{className:"h4 d-block mb-0",children:[r.firstname," ",r.lastname]}),e.jsx("label",{htmlFor:"avatar",type:"button",className:"text-primary font-semibold mt-1",children:"Change image"})]})]}),e.jsx(i,{message:n.picture})]}),e.jsx("input",{onChange:v,type:"file",id:"avatar",className:"d-none",hidden:!0,accept:"image/*"})]})})}),e.jsx("div",{children:e.jsxs("form",{onSubmit:b,children:[e.jsx("div",{className:"mb-5",children:e.jsx("h4",{children:"Contact Information"})}),e.jsxs("div",{className:"row g-5",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{children:[e.jsx("label",{children:"First name"})," ",e.jsx("span",{class:"text-danger",children:" *"})," ",e.jsx("input",{value:r.firstname,onChange:a=>l("firstname",a.target.value),type:"text",placeholder:"Your first name",className:"form-control",id:"first_name"})]}),e.jsx(i,{message:n.firstname})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Last name"})," ",e.jsx("span",{class:"text-danger",children:" *"})," ",e.jsx("input",{value:r.lastname,onChange:a=>l("lastname",a.target.value),type:"text",placeholder:"Your last name",className:"form-control"})]}),e.jsx(i,{message:n.lastname})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Phone number"})," ",e.jsx("span",{class:"text-danger",children:" *"}),e.jsx("input",{disabled:!0,ref:x,value:r.phone,onChange:a=>{l("phone",a.target.value)},type:"tel",placeholder:"Your phone number",className:"form-control"})]}),e.jsx(i,{message:n.phone})]})]}),e.jsx("div",{className:"row g-5",children:e.jsxs("div",{className:"col-12 text-end mt-10",children:[e.jsx("button",{type:"button",className:"btn btn-neutral me-2",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})})]})})]})})})})]})}export{M as default};
